export const play8BitBirthday = () => { const AudioContext = window.AudioContext || window.webkitAudioContext; if (!AudioContext) return; const ctx = new AudioContext(); const volume = 0.5; const notes = { G4: 392.00, A4: 440.00, B4: 493.88, C5: 523.25, D5: 587.33, E5: 659.25, F5: 698.46, G5: 783.99 }; // Duration in seconds const melody = [ { note: 'G4', dur: 0.3 }, { note: 'G4', dur: 0.1 }, { note: 'A4', dur: 0.4 }, { note: 'G4', dur: 0.4 }, { note: 'C5', dur: 0.4 }, { note: 'B4', dur: 0.8 }, { note: 'G4', dur: 0.3 }, { note: 'G4', dur: 0.1 }, { note: 'A4', dur: 0.4 }, { note: 'G4', dur: 0.4 }, { note: 'D5', dur: 0.4 }, { note: 'C5', dur: 0.8 }, { note: 'G4', dur: 0.3 }, { note: 'G4', dur: 0.1 }, { note: 'G5', dur: 0.4 }, { note: 'E5', dur: 0.4 }, { note: 'C5', dur: 0.4 }, { note: 'B4', dur: 0.4 }, { note: 'A4', dur: 0.8 }, { note: 'F5', dur: 0.3 }, { note: 'F5', dur: 0.1 }, { note: 'E5', dur: 0.4 }, { note: 'C5', dur: 0.4 }, { note: 'D5', dur: 0.4 }, { note: 'C5', dur: 1.0 } ]; let time = ctx.currentTime; melody.forEach(({ note, dur }, i) => { const osc = ctx.createOscillator(); const gain = ctx.createGain(); osc.type = 'square'; // 8-bit sound osc.frequency.value = notes[note]; osc.connect(gain); gain.connect(ctx.destination); osc.start(time); // Envelope for staccato feel gain.gain.setValueAtTime(volume, time); gain.gain.exponentialRampToValueAtTime(0.01, time + dur - 0.05); osc.stop(time + dur); time += dur; // Next note }); };